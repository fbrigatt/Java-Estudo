package com.xti.jdbc.crud;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

import com.xti.jdbc.ConnectionFactory;

public class TestaCRUD {

	public static void main(String[] args) throws SQLException {
		try (Connection con = ConnectionFactory.getConnection()) {
			ContaDao dao = new ContaDao();
			Conta c1 = new Conta("Raphael", 5000);
			Conta c2 = new Conta("Silva", 3000);

			dao.criar(con, c1);
			dao.criar(con, c2);

			List<Conta> contas = dao.ler(con);
			for (Conta c : contas) {
				System.out.println();
				System.out.println(c.getNumero() + ": " + c.getCliente());
			}
		}
	}
}
